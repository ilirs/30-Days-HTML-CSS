<!DOCTYPE html>
<html>

<head>
    <title>Calculator</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    
    <div id="calculatorb"> 
<div>  
  <input id="AC" type="button" onclick="clearAll()" value="AC"/> 
  <span id="total"></span>    
</div>
  <div class="row">
      <input type="button" onclick="numBtn(this.value)" value="7"/>
      <input type="button" onclick="numBtn(this.value)" value="8"/>
      <input type="button"  onclick="numBtn(this.value)" value="9"/>
      <input type="button" onclick="operator(this.value)" value="-"/>
</div>
  <div class="row">
      <input type="button"  onclick="numBtn(this.value)" value="4"/>
      <input type="button" onclick="numBtn(this.value)" value="5"/>
      <input type="button"  onclick="numBtn(this.value)" value="6"/>
    <input type="button" onclick="operator(this.value)" value="+"/>
</div>
  <div class="row">
      <input type="button"  onclick="numBtn(this.value)" value="1"/>
      <input type="button"  onclick="numBtn(this.value)" value="2"/>
      <input type="button"  onclick="numBtn(this.value)" value="3"/>
      <input type="button" onclick="operator(this.value)" value="*"/>
</div>
  <div class="row">
     <input type="button"  onclick="numBtn(this.value)" value="0"/>
     <input type="button" onclick="numBtn(this.value)" value="."/>
     <input id="equals" type="button"  onclick="total(divMulti(calculation))" value="="/>
     <input type="button" onclick="operator(this.value)" value="/"/>
</div>
</div>

<script>   

        var calculation = [];
        var input = 0;
       
        function addTocalculation(input)
        {
            calculation.push(input);

        }

        function clearAll()
        {
            calculation = [];
            input = 0;
            document.getElementById("total").innerHTML = "";
        }

        function numBtn(arg)
        {
          
            input += arg;
            document.getElementById("total").innerHTML += arg;
        }

        function operator(arg){
            if (input !== 0) 
            {
                input = parseFloat(input);
                addTocalculation(input);     
                addTocalculation(arg);      
                document.getElementById("total").innerHTML +=arg;
                input = 0;
            }
        }

              function divMulti(numberarr)
    {
       if (input !==0) 
            {
            input = parseFloat(input);   
                addTocalculation(input);
            }

      var temparr=numberarr.slice();
      var tt,temp=0,first;
    
      for(var i=2; i<numberarr.length; i=i+2)
          {
          if(numberarr[i-1]=="*")
          {
            if(temp==0){
                temp=numberarr[i-2];
              }
            if(numberarr[i] != "*"){
            tt=numberarr[i] * temp;
            for(var j=0; j<temparr.length; j++){
              if(temparr[j]=="*"){
                first=j-1;
                break;
              }
            }
            temparr.splice(first,3, tt);
            temp=tt;
          }
        }

        else if(numberarr[i-1]=="/"){
          if(temp==0){
                temp=numberarr[i-2];
              }
          if(numberarr[i] != "*"){
            tt=temp/numberarr[i];
            for(var j=0; j<temparr.length; j++){
              if(temparr[j]=="/"){
                first=j-1;
                break;
              }
            }
            temparr.splice(first,3, tt);
            temp=tt;
          }
        }
        else{
        temp=0;
        }
        }
            return temparr;
       }     
      function total(tempa)
      {    
            var total=tempa[0];
            for (var i = 2; i < tempa.length; i=i+2){
              
                if (tempa[i-1]=="+"){
                        total=total+tempa[i];              
                }                         
                else{
                     total=total- tempa[i];  
                }         
            }
            total = parseFloat(total);
            document.getElementById("total").innerHTML = total;  
            return total;
      }
</script>
</body>
</html>
